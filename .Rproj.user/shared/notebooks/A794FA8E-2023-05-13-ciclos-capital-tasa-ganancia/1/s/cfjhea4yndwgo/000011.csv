"0","#| label: ciclo-economico"
"0","#| fig-width: 10"
"0","#| fig-height: 6"
"0",""
"0","library(ggplot2)"
"0","library(dplyr)"
"0",""
"0","# Crear datos para la curva del ciclo económico"
"0","tiempo <- seq(0, 100, length.out = 200)"
"0","pib <- 50 + 30 * sin(tiempo/15 - pi/2) + tiempo/8"
"0",""
"0","df <- data.frame(tiempo = tiempo, pib = pib)"
"0",""
"0","# Definir las fases del ciclo con sus límites"
"0","fases <- data.frame("
"0","  fase = c(""Expansión"", ""Boom"", ""Recesión"", ""Depresión""),"
"0","  xmin = c(0, 20, 35, 55),"
"0","  xmax = c(20, 35, 55, 100),"
"0","  color = c(""#FFB6C6"", ""#FFFF99"", ""#C8D6B9"", ""#FFD4A3"")"
"0",")"
"0",""
"0","# Crear el gráfico"
"0","ggplot(df, aes(x = tiempo, y = pib)) +"
"0","  # Agregar rectángulos de fondo para cada fase"
"0","  geom_rect(data = fases, "
"0","            aes(xmin = xmin, xmax = xmax, ymin = -Inf, ymax = Inf, fill = fase),"
"0","            inherit.aes = FALSE, alpha = 0.6) +"
"0","  # Línea del ciclo económico"
"0","  geom_line(color = ""#00008B"", size = 1.5) +"
"0","  # Colores personalizados"
"0","  scale_fill_manual(values = c(""Expansión"" = ""#FFB6C6"", "
"0","                                ""Boom"" = ""#FFFF99"", "
"0","                                ""Recesión"" = ""#C8D6B9"", "
"0","                                ""Depresión"" = ""#FFD4A3""),"
"0","                    breaks = c(""Expansión"", ""Boom"", ""Recesión"", ""Depresión"")) +"
"0","  labs(x = ""Tiempo"", "
"0","       y = ""Producto Interno Bruto"","
"0","       fill = NULL,"
"0","       caption = ""Elaborado por n0dn 2025"") +"
"0","  # Tema limpio"
"0","  theme_minimal() +"
"0","  theme("
"0","    axis.text = element_blank(),"
"0","    axis.ticks = element_blank(),"
"0","    panel.grid = element_blank(),"
"0","    legend.position = ""top"","
"0","    legend.text = element_text(size = 12),"
"0","    axis.title = element_text(size = 12, face = ""bold""),"
"0","    plot.margin = margin(20, 20, 20, 20)"
"0","  ) +"
"0","  guides(fill = guide_legend(nrow = 1))"
